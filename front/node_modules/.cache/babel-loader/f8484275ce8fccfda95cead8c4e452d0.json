{"ast":null,"code":"import _slicedToArray from \"/home/wilder/Projects/todo/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/wilder/Projects/todo/front/src/screens/Login.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport TodoBar from \"../components/common/TodoBar\";\nimport { Link, Router } from \"react-router-dom\";\nimport { Grid, Paper, TextField, Box, Button, FormControl } from \"@material-ui/core\";\n\nfunction Login() {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        email = _useState2[0],\n        setEmail = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  const _useState5 = useState(localStorage.getItem(\"token\")),\n        _useState6 = _slicedToArray(_useState5, 2),\n        loggedIn = _useState6[0],\n        setLoggedIn = _useState6[1];\n\n  const _useState7 = useState(localStorage.getItem(\"id\")),\n        _useState8 = _slicedToArray(_useState7, 2),\n        userId = _useState8[0],\n        setUserId = _useState8[1];\n\n  const login = () => {\n    const body = {\n      email: email,\n      password: password\n    };\n    console.log(\"Login bodyyyy\", body);\n    axios.post(\"http://localhost:5000/auth/login\", body).then(res => {\n      // console.log(\"res dataaaa\", res.data);\n      const token = res.data.token; // console.log(\"token\", res.data.token);\n\n      const getId = res.data.user.id;\n      localStorage.setItem(\"id\", getId); // console.log(\"user iddd\", userId);\n\n      localStorage.setItem(\"token\", token);\n      window.location.reload(); // console.log(\"token in the local storage\", localStorage.getItem(\"token\"));\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(TodoBar, {\n    auth: loggedIn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    alignItems: \"center\",\n    justify: \"center\",\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      padding: \"5rem 2rem 2rem 2rem\",\n      backgroundColor: \"#ffedcd\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(Box, {\n    justify: \"center\",\n    border: 1,\n    borderRadius: 15,\n    style: {\n      padding: \"1rem 2rem 3rem 2rem\",\n      backgroundColor: \"white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    style: {\n      fontFamily: \"Poiret One\",\n      color: \"#0D5FAD\",\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Sign in\"), React.createElement(FormControl, {\n    style: {\n      textAlign: \"center\",\n      flexDirection: \"column\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    type: \"email\",\n    name: \"email\",\n    label: \"email\",\n    onChange: e => setEmail(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    type: \"password\",\n    name: \"password\",\n    label: \"password\",\n    onChange: e => setPassword(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"outlined\",\n    justify: \"center\",\n    style: {\n      marginTop: \"2rem\",\n      color: \"#0D5FAD\",\n      borderColor: \"#0D5FAD\",\n      fontWeight: \"bolder\"\n    },\n    onClick: login,\n    component: Link,\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Submit\")), React.createElement(Box, {\n    style: {\n      textAlign: \"center\",\n      color: \"#717D7E\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"don't have an account yet ?\", React.createElement(Link, {\n    to: \"/signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Sign up\"))))))));\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/wilder/Projects/todo/front/src/screens/Login.js"],"names":["React","useState","useEffect","axios","TodoBar","Link","Router","Grid","Paper","TextField","Box","Button","FormControl","Login","email","setEmail","password","setPassword","localStorage","getItem","loggedIn","setLoggedIn","userId","setUserId","login","body","console","log","post","then","res","token","data","getId","user","id","setItem","window","location","reload","display","flexDirection","justifyContent","padding","backgroundColor","fontFamily","color","textAlign","e","target","value","marginTop","borderColor","fontWeight"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,8BAApB;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,kBAA7B;AACA,SACEC,IADF,EAEEC,KAFF,EAGEC,SAHF,EAIEC,GAJF,EAKEC,MALF,EAMEC,WANF,QAOO,mBAPP;;AASA,SAASC,KAAT,GAAiB;AAAA,oBACWZ,QAAQ,CAAC,EAAD,CADnB;AAAA;AAAA,QACRa,KADQ;AAAA,QACDC,QADC;;AAAA,qBAEiBd,QAAQ,CAAC,EAAD,CAFzB;AAAA;AAAA,QAERe,QAFQ;AAAA,QAEEC,WAFF;;AAAA,qBAGiBhB,QAAQ,CAACiB,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,CAHzB;AAAA;AAAA,QAGRC,QAHQ;AAAA,QAGEC,WAHF;;AAAA,qBAIapB,QAAQ,CAACiB,YAAY,CAACC,OAAb,CAAqB,IAArB,CAAD,CAJrB;AAAA;AAAA,QAIRG,MAJQ;AAAA,QAIAC,SAJA;;AAMf,QAAMC,KAAK,GAAG,MAAM;AAClB,UAAMC,IAAI,GAAG;AACXX,MAAAA,KAAK,EAAEA,KADI;AAEXE,MAAAA,QAAQ,EAAEA;AAFC,KAAb;AAIAU,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BF,IAA7B;AACAtB,IAAAA,KAAK,CAACyB,IAAN,CAAW,kCAAX,EAA+CH,IAA/C,EAAqDI,IAArD,CAA0DC,GAAG,IAAI;AAC/D;AACA,YAAMC,KAAK,GAAGD,GAAG,CAACE,IAAJ,CAASD,KAAvB,CAF+D,CAG/D;;AACA,YAAME,KAAK,GAAGH,GAAG,CAACE,IAAJ,CAASE,IAAT,CAAcC,EAA5B;AACAjB,MAAAA,YAAY,CAACkB,OAAb,CAAqB,IAArB,EAA2BH,KAA3B,EAL+D,CAM/D;;AACAf,MAAAA,YAAY,CAACkB,OAAb,CAAqB,OAArB,EAA8BL,KAA9B;AACAM,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAR+D,CAS/D;AACD,KAVD;AAWD,GAjBD;;AAmBA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,OAAD;AAAS,IAAA,IAAI,EAAEnB,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAC,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,UAAU,EAAC,QAFb;AAGE,IAAA,OAAO,EAAC,QAHV;AAIE,IAAA,KAAK,EAAE;AACLoB,MAAAA,OAAO,EAAE,MADJ;AAELC,MAAAA,aAAa,EAAE,QAFV;AAGLC,MAAAA,cAAc,EAAE,QAHX;AAILC,MAAAA,OAAO,EAAE,qBAJJ;AAKLC,MAAAA,eAAe,EAAE;AALZ,KAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAYE,oBAAC,GAAD;AACE,IAAA,OAAO,EAAE,QADX;AAEE,IAAA,MAAM,EAAE,CAFV;AAGE,IAAA,YAAY,EAAE,EAHhB;AAIE,IAAA,KAAK,EAAE;AACLD,MAAAA,OAAO,EAAE,qBADJ;AAELC,MAAAA,eAAe,EAAE;AAFZ,KAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASE;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,UAAU,EAAE,YADP;AAELC,MAAAA,KAAK,EAAE,SAFF;AAGLC,MAAAA,SAAS,EAAE;AAHN,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eATF,EAkBE,oBAAC,WAAD;AACE,IAAA,KAAK,EAAE;AAAEA,MAAAA,SAAS,EAAE,QAAb;AAAuBN,MAAAA,aAAa,EAAE;AAAtC,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGE,oBAAC,SAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAC,OAHR;AAIE,IAAA,QAAQ,EAAEO,CAAC,IAAIjC,QAAQ,CAACiC,CAAC,CAACC,MAAF,CAASC,KAAV,CAJzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EASE,oBAAC,SAAD;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,KAAK,EAAC,UAHR;AAIE,IAAA,QAAQ,EAAEF,CAAC,IAAI/B,WAAW,CAAC+B,CAAC,CAACC,MAAF,CAASC,KAAV,CAJ5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAgBE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAC,UADV;AAEE,IAAA,OAAO,EAAC,QAFV;AAGE,IAAA,KAAK,EAAE;AACLC,MAAAA,SAAS,EAAE,MADN;AAELL,MAAAA,KAAK,EAAE,SAFF;AAGLM,MAAAA,WAAW,EAAE,SAHR;AAILC,MAAAA,UAAU,EAAE;AAJP,KAHT;AASE,IAAA,OAAO,EAAE7B,KATX;AAUE,IAAA,SAAS,EAAEnB,IAVb;AAWE,IAAA,EAAE,EAAE,GAXN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBF,CAlBF,EAmDE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAE;AAAE0C,MAAAA,SAAS,EAAE,QAAb;AAAuBD,MAAAA,KAAK,EAAE;AAA9B,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAEE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CAFF,CAnDF,CAZF,CADF,CADF,CAFF,CADF;AAgFD;;AAED,eAAejC,KAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport TodoBar from \"../components/common/TodoBar\";\nimport { Link, Router } from \"react-router-dom\";\nimport {\n  Grid,\n  Paper,\n  TextField,\n  Box,\n  Button,\n  FormControl\n} from \"@material-ui/core\";\n\nfunction Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loggedIn, setLoggedIn] = useState(localStorage.getItem(\"token\"));\n  const [userId, setUserId] = useState(localStorage.getItem(\"id\"));\n\n  const login = () => {\n    const body = {\n      email: email,\n      password: password\n    };\n    console.log(\"Login bodyyyy\", body);\n    axios.post(\"http://localhost:5000/auth/login\", body).then(res => {\n      // console.log(\"res dataaaa\", res.data);\n      const token = res.data.token;\n      // console.log(\"token\", res.data.token);\n      const getId = res.data.user.id;\n      localStorage.setItem(\"id\", getId);\n      // console.log(\"user iddd\", userId);\n      localStorage.setItem(\"token\", token);\n      window.location.reload();\n      // console.log(\"token in the local storage\", localStorage.getItem(\"token\"));\n    });\n  };\n\n  return (\n    <div>\n      <TodoBar auth={loggedIn} />\n      <Grid container justify=\"center\">\n        <Grid item xs={12}>\n          <Grid\n            container\n            alignItems=\"center\"\n            justify=\"center\"\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"center\",\n              padding: \"5rem 2rem 2rem 2rem\",\n              backgroundColor: \"#ffedcd\"\n            }}\n          >\n            <Box\n              justify={\"center\"}\n              border={1}\n              borderRadius={15}\n              style={{\n                padding: \"1rem 2rem 3rem 2rem\",\n                backgroundColor: \"white\"\n              }}\n            >\n              <h1\n                style={{\n                  fontFamily: \"Poiret One\",\n                  color: \"#0D5FAD\",\n                  textAlign: \"center\"\n                }}\n              >\n                Sign in\n              </h1>\n              <FormControl\n                style={{ textAlign: \"center\", flexDirection: \"column\" }}\n              >\n                <TextField\n                  type=\"email\"\n                  name=\"email\"\n                  label=\"email\"\n                  onChange={e => setEmail(e.target.value)}\n                />\n                <TextField\n                  type=\"password\"\n                  name=\"password\"\n                  label=\"password\"\n                  onChange={e => setPassword(e.target.value)}\n                />\n                {/* <Link to={\"/profile\"}> */}\n                <Button\n                  variant=\"outlined\"\n                  justify=\"center\"\n                  style={{\n                    marginTop: \"2rem\",\n                    color: \"#0D5FAD\",\n                    borderColor: \"#0D5FAD\",\n                    fontWeight: \"bolder\"\n                  }}\n                  onClick={login}\n                  component={Link}\n                  to={\"/\"}\n                >\n                  Submit\n                </Button>\n                {/* </Link> */}\n              </FormControl>\n              <Box style={{ textAlign: \"center\", color: \"#717D7E\" }}>\n                don't have an account yet ?\n                <Link to={\"/signup\"}>\n                  <Button>Sign up</Button>\n                </Link>\n              </Box>\n            </Box>\n          </Grid>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}