{"ast":null,"code":"import _objectSpread from \"/home/wilder/Projects/todo/front/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/wilder/Projects/todo/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/wilder/Projects/todo/front/src/screens/AllTasks.js\";\nimport React, { useState, useEffect } from \"react\";\nimport TodoBar from \"../components/common/TodoBar\";\nimport TodoList from \"../components/TodoList\";\nimport TodoItem from \"../components/TodoItem\";\nimport Task from \"../components/Task\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Grid, Checkbox, ListItemText, List, Box, makeStyles, IconButton } from \"@material-ui/core/\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport axios from \"axios\";\n\nfunction AllTasks() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        all = _useState2[0],\n        setAll = _useState2[1];\n\n  const _useState3 = useState(localStorage.getItem(\"id\")),\n        _useState4 = _slicedToArray(_useState3, 2),\n        userId = _useState4[0],\n        setUserId = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        completed = _useState6[0],\n        setCompleted = _useState6[1];\n\n  const useStyles = makeStyles({\n    category: {\n      // background: catColors,\n      border: 0,\n      borderRadius: 3,\n      boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\",\n      color: \"white\",\n      pointerEvents: \"none\" // textTransform: \"none\"\n\n    }\n  });\n  const classes = useStyles();\n  const task = all.map(todo => todo.task);\n  const date = all.map(todo => todo.todo_at);\n  const category = all.map(todo => todo.categories_id);\n\n  const removeTodo = todoId => {\n    const updatedAll = all.filter(todo => todo.id !== todoId);\n    setAll(updatedAll);\n  };\n\n  const toggleTodo = todoId => {\n    const updatedAll = all.map(todo => todo.id === todoId ? _objectSpread({}, todo, {\n      completed: !todo.completed\n    }) : todo);\n    setAll(updatedAll);\n  };\n\n  const editTodo = (todoId, newTask, newCategory, newDate, newUserId) => {\n    const updatedAll = all.map(todo => todo.id === todoId ? _objectSpread({}, todo, {\n      task: newTask,\n      category: newCategory,\n      date: newDate,\n      userId: newUserId\n    }) : todo);\n    setAll(updatedAll);\n  };\n\n  useEffect(() => {\n    axios.get(`http://localhost:5000/todo/${userId}/all`).then(res => setAll(res.data), res => console.log(\"get res\", res.data));\n  }, []);\n  console.log(all);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(TodoBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), \"All your Tasks\", React.createElement(Button, {\n    component: Link,\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Go back to Home\"), React.createElement(List, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, all.map(todo => {\n    const task = todo.task;\n    const date = todo.todo_at;\n    const category = todo.categories_id;\n  }), React.createElement(TodoList, {\n    removeTodo: removeTodo,\n    toggleTodo: toggleTodo,\n    editTodo: editTodo,\n    task: task,\n    date: date,\n    category: category,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    item: true,\n    xs: 10,\n    md: 8,\n    lg: 5,\n    style: {\n      marginTop: \"2rem\",\n      alignContent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }))));\n}\n\nexport default AllTasks;","map":{"version":3,"sources":["/home/wilder/Projects/todo/front/src/screens/AllTasks.js"],"names":["React","useState","useEffect","TodoBar","TodoList","TodoItem","Task","Link","Button","Grid","Checkbox","ListItemText","List","Box","makeStyles","IconButton","DeleteIcon","EditIcon","axios","AllTasks","all","setAll","localStorage","getItem","userId","setUserId","completed","setCompleted","useStyles","category","border","borderRadius","boxShadow","color","pointerEvents","classes","task","map","todo","date","todo_at","categories_id","removeTodo","todoId","updatedAll","filter","id","toggleTodo","editTodo","newTask","newCategory","newDate","newUserId","get","then","res","data","console","log","marginTop","alignContent"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,8BAApB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SACEC,MADF,EAEEC,IAFF,EAGEC,QAHF,EAIEC,YAJF,EAKEC,IALF,EAMEC,GANF,EAOEC,UAPF,EAQEC,UARF,QASO,oBATP;AAUA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,QAAT,GAAoB;AAAA,oBACIlB,QAAQ,CAAC,EAAD,CADZ;AAAA;AAAA,QACXmB,GADW;AAAA,QACNC,MADM;;AAAA,qBAEUpB,QAAQ,CAACqB,YAAY,CAACC,OAAb,CAAqB,IAArB,CAAD,CAFlB;AAAA;AAAA,QAEXC,MAFW;AAAA,QAEHC,SAFG;;AAAA,qBAGgBxB,QAAQ,CAAC,KAAD,CAHxB;AAAA;AAAA,QAGXyB,SAHW;AAAA,QAGAC,YAHA;;AAKlB,QAAMC,SAAS,GAAGd,UAAU,CAAC;AAC3Be,IAAAA,QAAQ,EAAE;AACR;AACAC,MAAAA,MAAM,EAAE,CAFA;AAGRC,MAAAA,YAAY,EAAE,CAHN;AAIRC,MAAAA,SAAS,EAAE,uCAJH;AAKRC,MAAAA,KAAK,EAAE,OALC;AAMRC,MAAAA,aAAa,EAAE,MANP,CAOR;;AAPQ;AADiB,GAAD,CAA5B;AAWA,QAAMC,OAAO,GAAGP,SAAS,EAAzB;AAEA,QAAMQ,IAAI,GAAGhB,GAAG,CAACiB,GAAJ,CAAQC,IAAI,IAAIA,IAAI,CAACF,IAArB,CAAb;AAEA,QAAMG,IAAI,GAAGnB,GAAG,CAACiB,GAAJ,CAAQC,IAAI,IAAIA,IAAI,CAACE,OAArB,CAAb;AAEA,QAAMX,QAAQ,GAAGT,GAAG,CAACiB,GAAJ,CAAQC,IAAI,IAAIA,IAAI,CAACG,aAArB,CAAjB;;AAEA,QAAMC,UAAU,GAAGC,MAAM,IAAI;AAC3B,UAAMC,UAAU,GAAGxB,GAAG,CAACyB,MAAJ,CAAWP,IAAI,IAAIA,IAAI,CAACQ,EAAL,KAAYH,MAA/B,CAAnB;AACAtB,IAAAA,MAAM,CAACuB,UAAD,CAAN;AACD,GAHD;;AAKA,QAAMG,UAAU,GAAGJ,MAAM,IAAI;AAC3B,UAAMC,UAAU,GAAGxB,GAAG,CAACiB,GAAJ,CAAQC,IAAI,IAC7BA,IAAI,CAACQ,EAAL,KAAYH,MAAZ,qBAA0BL,IAA1B;AAAgCZ,MAAAA,SAAS,EAAE,CAACY,IAAI,CAACZ;AAAjD,SAA+DY,IAD9C,CAAnB;AAGAjB,IAAAA,MAAM,CAACuB,UAAD,CAAN;AACD,GALD;;AAOA,QAAMI,QAAQ,GAAG,CAACL,MAAD,EAASM,OAAT,EAAkBC,WAAlB,EAA+BC,OAA/B,EAAwCC,SAAxC,KAAsD;AACrE,UAAMR,UAAU,GAAGxB,GAAG,CAACiB,GAAJ,CAAQC,IAAI,IAC7BA,IAAI,CAACQ,EAAL,KAAYH,MAAZ,qBAESL,IAFT;AAGMF,MAAAA,IAAI,EAAEa,OAHZ;AAIMpB,MAAAA,QAAQ,EAAEqB,WAJhB;AAKMX,MAAAA,IAAI,EAAEY,OALZ;AAMM3B,MAAAA,MAAM,EAAE4B;AANd,SAQId,IATa,CAAnB;AAWAjB,IAAAA,MAAM,CAACuB,UAAD,CAAN;AACD,GAbD;;AAeA1C,EAAAA,SAAS,CAAC,MAAM;AACdgB,IAAAA,KAAK,CAACmC,GAAN,CAAW,8BAA6B7B,MAAO,MAA/C,EAAsD8B,IAAtD,CACEC,GAAG,IAAIlC,MAAM,CAACkC,GAAG,CAACC,IAAL,CADf,EAEED,GAAG,IAAIE,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBH,GAAG,CAACC,IAA3B,CAFT;AAID,GALQ,EAKN,EALM,CAAT;AAMAC,EAAAA,OAAO,CAACC,GAAR,CAAYtC,GAAZ;AAEA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,oBAGE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAEb,IAAnB;AAAyB,IAAA,EAAE,EAAE,GAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHF,EAME,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGa,GAAG,CAACiB,GAAJ,CAAQC,IAAI,IAAI;AACf,UAAMF,IAAI,GAAGE,IAAI,CAACF,IAAlB;AACA,UAAMG,IAAI,GAAGD,IAAI,CAACE,OAAlB;AACA,UAAMX,QAAQ,GAAGS,IAAI,CAACG,aAAtB;AACD,GAJA,CADH,EAME,oBAAC,QAAD;AACE,IAAA,UAAU,EAAEC,UADd;AAEE,IAAA,UAAU,EAAEK,UAFd;AAGE,IAAA,QAAQ,EAAEC,QAHZ;AAIE,IAAA,IAAI,EAAEZ,IAJR;AAKE,IAAA,IAAI,EAAEG,IALR;AAME,IAAA,QAAQ,EAAEV,QANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,EAeE,oBAAC,IAAD;AACE,IAAA,IAAI,MADN;AAEE,IAAA,EAAE,EAAE,EAFN;AAGE,IAAA,EAAE,EAAE,CAHN;AAIE,IAAA,EAAE,EAAE,CAJN;AAKE,IAAA,KAAK,EAAE;AAAE8B,MAAAA,SAAS,EAAE,MAAb;AAAqBC,MAAAA,YAAY,EAAE;AAAnC,KALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfF,CADF,CANF,CADF;AAkCD;;AAED,eAAezC,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport TodoBar from \"../components/common/TodoBar\";\nimport TodoList from \"../components/TodoList\";\nimport TodoItem from \"../components/TodoItem\";\nimport Task from \"../components/Task\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Button,\n  Grid,\n  Checkbox,\n  ListItemText,\n  List,\n  Box,\n  makeStyles,\n  IconButton\n} from \"@material-ui/core/\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport axios from \"axios\";\n\nfunction AllTasks() {\n  const [all, setAll] = useState([]);\n  const [userId, setUserId] = useState(localStorage.getItem(\"id\"));\n  const [completed, setCompleted] = useState(false);\n\n  const useStyles = makeStyles({\n    category: {\n      // background: catColors,\n      border: 0,\n      borderRadius: 3,\n      boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\",\n      color: \"white\",\n      pointerEvents: \"none\"\n      // textTransform: \"none\"\n    }\n  });\n  const classes = useStyles();\n\n  const task = all.map(todo => todo.task);\n\n  const date = all.map(todo => todo.todo_at);\n\n  const category = all.map(todo => todo.categories_id);\n\n  const removeTodo = todoId => {\n    const updatedAll = all.filter(todo => todo.id !== todoId);\n    setAll(updatedAll);\n  };\n\n  const toggleTodo = todoId => {\n    const updatedAll = all.map(todo =>\n      todo.id === todoId ? { ...todo, completed: !todo.completed } : todo\n    );\n    setAll(updatedAll);\n  };\n\n  const editTodo = (todoId, newTask, newCategory, newDate, newUserId) => {\n    const updatedAll = all.map(todo =>\n      todo.id === todoId\n        ? {\n            ...todo,\n            task: newTask,\n            category: newCategory,\n            date: newDate,\n            userId: newUserId\n          }\n        : todo\n    );\n    setAll(updatedAll);\n  };\n\n  useEffect(() => {\n    axios.get(`http://localhost:5000/todo/${userId}/all`).then(\n      res => setAll(res.data),\n      res => console.log(\"get res\", res.data)\n    );\n  }, []);\n  console.log(all);\n\n  return (\n    <div>\n      <TodoBar />\n      All your Tasks\n      <Button component={Link} to={\"/\"}>\n        Go back to Home\n      </Button>\n      <List>\n        <div>\n          {all.map(todo => {\n            const task = todo.task;\n            const date = todo.todo_at;\n            const category = todo.categories_id;\n          })}\n          <TodoList\n            removeTodo={removeTodo}\n            toggleTodo={toggleTodo}\n            editTodo={editTodo}\n            task={task}\n            date={date}\n            category={category}\n          />\n\n          <Grid\n            item\n            xs={10}\n            md={8}\n            lg={5}\n            style={{ marginTop: \"2rem\", alignContent: \"center\" }}\n          ></Grid>\n        </div>\n      </List>\n    </div>\n  );\n}\n\nexport default AllTasks;\n"]},"metadata":{},"sourceType":"module"}