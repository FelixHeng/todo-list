{"ast":null,"code":"import _slicedToArray from \"/home/wilder/Projects/todo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/wilder/Projects/todo/src/screens/Login.js\";\nimport React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Snackbar, Slide, IconButton } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport { green } from \"@material-ui/core/colors\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport { Link } from \"react-router-dom\";\n\nfunction Login() {\n  const initialState = [{\n    email: \"enter your email\",\n    password: \"monPassword\",\n    flash: \"Sign in\",\n    error: false,\n    open: false,\n    Transition: Slide\n  }];\n\n  const _useState = useState(initialState),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const updateEmailField = event => {\n    setState([...state, {\n      email: event.target.value\n    }]);\n  };\n\n  updateEmailField = event => {\n    this.setState({\n      email: event.target.value\n    });\n  };\n\n  updatePassword = event => {\n    this.setState({\n      password: event.target.value\n    });\n  };\n\n  handleSubmit = event => {\n    this.setState({\n      open: true\n    });\n    fetch(\"/auth/signin\", {\n      method: \"POST\",\n      headers: new Headers({\n        \"Content-Type\": \"application/json\"\n      }),\n      body: JSON.stringify(this.state)\n    }).then(res => res.json()).then(res => this.setState({\n      flash: res.flash\n    }), err => this.setState({\n      flash: err.flash\n    }));\n    event.preventDefault();\n    console.log(this.state);\n  };\n\n  handleClose = () => {\n    this.setState({\n      open: false\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Sign in\"), React.createElement(Snackbar, {\n    open: this.state.open // onClose={this.handleClose}\n    ,\n    TransitionComponent: this.state.Transition // ContentProps={{\n    //   \"aria-describedby\": \"message-id\"\n    // }}\n    // message={<span id=\"message-id\">{this.state.flash}</span>}\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(SnackbarContent, {\n    onClose: this.handleClose,\n    message: React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.state.error !== true ? React.createElement(CheckCircleIcon, {\n      className: \"icon verticalAlign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }) : React.createElement(ErrorIcon, {\n      className: \"icon verticalAlign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"verticalAlign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \" \", this.state.flash, \" \"), React.createElement(IconButton, {\n      key: \"close\",\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      onClick: this.handleClose,\n      className: \"icon verticalAlign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(CloseIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }))),\n    style: this.state.error !== true ? {\n      backgroundColor: green[600]\n    } : {\n      backgroundColor: \"red\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })), React.createElement(\"form\", {\n    onSubmit: this.handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    type: \"email\",\n    name: \"email\",\n    label: \"email\",\n    onChange: this.updateEmailField,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    type: \"password\",\n    name: \"password\",\n    label: \"password\",\n    onChange: this.updatePassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }), React.createElement(Link, {\n    to: \"/profile\",\n    type: \"submit\",\n    value: \"Submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Submit\")), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, \"Signup\")));\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/wilder/Projects/todo/src/screens/Login.js"],"names":["React","useState","TextField","Snackbar","Slide","IconButton","CloseIcon","SnackbarContent","green","CheckCircleIcon","ErrorIcon","Link","Login","initialState","email","password","flash","error","open","Transition","state","setState","updateEmailField","event","target","value","updatePassword","handleSubmit","fetch","method","headers","Headers","body","JSON","stringify","then","res","json","err","preventDefault","console","log","handleClose","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Snackbar, Slide, IconButton } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport { green } from \"@material-ui/core/colors\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport { Link } from \"react-router-dom\";\n\nfunction Login() {\n  const initialState = [\n    {\n      email: \"enter your email\",\n      password: \"monPassword\",\n      flash: \"Sign in\",\n      error: false,\n      open: false,\n      Transition: Slide\n    }\n  ];\n  const [state, setState] = useState(initialState);\n\n  const updateEmailField = event => {\n    setState([\n      ...state,\n      {\n        email: event.target.value\n      }\n    ]);\n  };\n\n  updateEmailField = event => {\n    this.setState({ email: event.target.value });\n  };\n\n  updatePassword = event => {\n    this.setState({ password: event.target.value });\n  };\n\n  handleSubmit = event => {\n    this.setState({\n      open: true\n    });\n    fetch(\"/auth/signin\", {\n      method: \"POST\",\n      headers: new Headers({\n        \"Content-Type\": \"application/json\"\n      }),\n      body: JSON.stringify(this.state)\n    })\n      .then(res => res.json())\n      .then(\n        res => this.setState({ flash: res.flash }),\n        err => this.setState({ flash: err.flash })\n      );\n\n    event.preventDefault();\n    console.log(this.state);\n  };\n\n  handleClose = () => {\n    this.setState({\n      open: false\n    });\n  };\n\n  return (\n    <div>\n      <h1>Sign in</h1>\n      <Snackbar\n        open={this.state.open}\n        // onClose={this.handleClose}\n        TransitionComponent={this.state.Transition}\n        // ContentProps={{\n        //   \"aria-describedby\": \"message-id\"\n        // }}\n        // message={<span id=\"message-id\">{this.state.flash}</span>}\n      >\n        <SnackbarContent\n          onClose={this.handleClose}\n          message={\n            <span>\n              {this.state.error !== true ? (\n                <CheckCircleIcon className=\"icon verticalAlign\" />\n              ) : (\n                <ErrorIcon className=\"icon verticalAlign\" />\n              )}\n              <span className=\"verticalAlign\"> {this.state.flash} </span>\n              <IconButton\n                key=\"close\"\n                aria-label=\"close\"\n                color=\"inherit\"\n                onClick={this.handleClose}\n                className=\"icon verticalAlign\"\n              >\n                <CloseIcon />\n              </IconButton>\n            </span>\n          }\n          style={\n            this.state.error !== true\n              ? { backgroundColor: green[600] }\n              : { backgroundColor: \"red\" }\n          }\n        />\n      </Snackbar>\n      <form onSubmit={this.handleSubmit}>\n        <TextField\n          type=\"email\"\n          name=\"email\"\n          label=\"email\"\n          onChange={this.updateEmailField}\n        />\n        <br />\n        <br />\n        <TextField\n          type=\"password\"\n          name=\"password\"\n          label=\"password\"\n          onChange={this.updatePassword}\n        />\n        <br />\n        <br />\n        <Link to={\"/profile\"} type=\"submit\" value=\"Submit\">\n          Submit\n        </Link>\n      </form>\n      <br />\n      <br />\n      <div>\n        <Link to={\"/signup\"}>Signup</Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}