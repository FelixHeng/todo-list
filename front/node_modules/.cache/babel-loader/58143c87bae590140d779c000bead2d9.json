{"ast":null,"code":"import _slicedToArray from \"/home/wilder/Projects/todo/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/wilder/Projects/todo/front/src/screens/Login.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport TodoBar from \"../components/common/TodoBar\";\nimport { Link, Router } from \"react-router-dom\";\nimport { Grid, Paper, TextField, Box, Button } from \"@material-ui/core\";\n\nfunction Login() {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        email = _useState2[0],\n        setEmail = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  const _useState5 = useState(localStorage.getItem(\"token\")),\n        _useState6 = _slicedToArray(_useState5, 2),\n        loggedIn = _useState6[0],\n        setLoggedIn = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        userId = _useState8[0],\n        setUserId = _useState8[1];\n\n  const login = () => {\n    const body = {\n      email: email,\n      password: password\n    };\n    console.log(\"Login bodyyyy\", body);\n    axios.post(\"http://localhost:5000/auth/login\", body).then(res => {\n      // console.log(\"res dataaaa\", res.data);\n      const token = res.data.token; // console.log(\"token\", res.data.token);\n\n      const getId = res.data.user.id;\n      setUserId(getId); // console.log(\"user iddd\", userId);\n\n      localStorage.setItem(\"token\", token); // console.log(\"token in the local storage\", localStorage.getItem(\"token\"));\n    });\n  };\n\n  console.log(\"userIdddd\", userId);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(TodoBar, {\n    auth: loggedIn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    alignItems: \"center\",\n    justify: \"center\",\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      padding: \"5rem 2rem 2rem 2rem\",\n      backgroundColor: \"#ffedcd\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(Box, {\n    justify: \"center\",\n    border: 1,\n    borderRadius: 15,\n    style: {\n      padding: \"1rem 2rem 3rem 2rem\",\n      backgroundColor: \"white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    style: {\n      fontFamily: \"Poiret One\",\n      color: \"#0D5FAD\",\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Sign in\"), React.createElement(\"form\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    type: \"email\",\n    name: \"email\",\n    label: \"email\",\n    onChange: e => setEmail(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    type: \"password\",\n    name: \"password\",\n    label: \"password\",\n    onChange: e => setPassword(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"outlined\",\n    justify: \"center\",\n    style: {\n      marginTop: \"2rem\",\n      color: \"#0D5FAD\",\n      borderColor: \"#0D5FAD\",\n      fontWeight: \"bolder\"\n    },\n    onClick: login,\n    component: Link,\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Submit\")), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }), React.createElement(Box, {\n    style: {\n      textAlign: \"center\",\n      color: \"#717D7E\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"don't have an account yet ?\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(Link, {\n    to: \"/signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"Sign up\"))))))));\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/wilder/Projects/todo/front/src/screens/Login.js"],"names":["React","useState","useEffect","axios","TodoBar","Link","Router","Grid","Paper","TextField","Box","Button","Login","email","setEmail","password","setPassword","localStorage","getItem","loggedIn","setLoggedIn","userId","setUserId","login","body","console","log","post","then","res","token","data","getId","user","id","setItem","display","flexDirection","justifyContent","padding","backgroundColor","fontFamily","color","textAlign","e","target","value","marginTop","borderColor","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport TodoBar from \"../components/common/TodoBar\";\nimport { Link, Router } from \"react-router-dom\";\nimport { Grid, Paper, TextField, Box, Button } from \"@material-ui/core\";\n\nfunction Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loggedIn, setLoggedIn] = useState(localStorage.getItem(\"token\"));\n  const [userId, setUserId] = useState(\"\");\n\n  const login = () => {\n    const body = {\n      email: email,\n      password: password\n    };\n    console.log(\"Login bodyyyy\", body);\n    axios.post(\"http://localhost:5000/auth/login\", body).then(res => {\n      // console.log(\"res dataaaa\", res.data);\n      const token = res.data.token;\n      // console.log(\"token\", res.data.token);\n      const getId = res.data.user.id;\n      setUserId(getId);\n      // console.log(\"user iddd\", userId);\n      localStorage.setItem(\"token\", token);\n      // console.log(\"token in the local storage\", localStorage.getItem(\"token\"));\n    });\n  };\n  console.log(\"userIdddd\", userId);\n  return (\n    <div>\n      <TodoBar auth={loggedIn} />\n      <Grid container justify=\"center\">\n        <Grid item xs={12}>\n          <Grid\n            container\n            alignItems=\"center\"\n            justify=\"center\"\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"center\",\n              padding: \"5rem 2rem 2rem 2rem\",\n              backgroundColor: \"#ffedcd\"\n            }}\n          >\n            <Box\n              justify={\"center\"}\n              border={1}\n              borderRadius={15}\n              style={{\n                padding: \"1rem 2rem 3rem 2rem\",\n                backgroundColor: \"white\"\n              }}\n            >\n              <h1\n                style={{\n                  fontFamily: \"Poiret One\",\n                  color: \"#0D5FAD\",\n                  textAlign: \"center\"\n                }}\n              >\n                Sign in\n              </h1>\n              <form style={{ textAlign: \"center\" }}>\n                <TextField\n                  type=\"email\"\n                  name=\"email\"\n                  label=\"email\"\n                  onChange={e => setEmail(e.target.value)}\n                />\n                <br />\n                <br />\n                <TextField\n                  type=\"password\"\n                  name=\"password\"\n                  label=\"password\"\n                  onChange={e => setPassword(e.target.value)}\n                />\n                <br />\n                <br />\n                {/* <Link to={\"/profile\"}> */}\n                <Button\n                  variant=\"outlined\"\n                  justify=\"center\"\n                  style={{\n                    marginTop: \"2rem\",\n                    color: \"#0D5FAD\",\n                    borderColor: \"#0D5FAD\",\n                    fontWeight: \"bolder\"\n                  }}\n                  onClick={login}\n                  component={Link}\n                  to={\"/\"}\n                >\n                  Submit\n                </Button>\n                {/* </Link> */}\n              </form>\n              <br />\n              <br />\n              <Box style={{ textAlign: \"center\", color: \"#717D7E\" }}>\n                don't have an account yet ?\n                <br />\n                <Link to={\"/signup\"}>\n                  <Button>Sign up</Button>\n                </Link>\n              </Box>\n            </Box>\n          </Grid>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}