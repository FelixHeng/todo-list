{"ast":null,"code":"import _objectSpread from \"/home/wilder/Projects/todo/front/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/wilder/Projects/todo/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/wilder/Projects/todo/front/src/screens/Today.js\";\nimport React, { useState, useEffect } from \"react\";\nimport TodoBar from \"../components/common/TodoBar\";\nimport TodoList from \"../components/TodoList\";\nimport TodoItem from \"../components/TodoItem\";\nimport Task from \"../components/Task\";\nimport moment from \"moment\";\nimport fr from \"moment/locale/fr\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Grid, Checkbox, ListItemText, List, Box, makeStyles, Typography } from \"@material-ui/core/\";\nimport axios from \"axios\";\n\nfunction Today() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        all = _useState2[0],\n        setAll = _useState2[1];\n\n  const _useState3 = useState(\"tesssst\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        task = _useState4[0],\n        setTask = _useState4[1];\n\n  const _useState5 = useState(localStorage.getItem(\"id\")),\n        _useState6 = _slicedToArray(_useState5, 2),\n        userId = _useState6[0],\n        setUserId = _useState6[1];\n\n  const _useState7 = useState(localStorage.getItem(\"token\")),\n        _useState8 = _slicedToArray(_useState7, 2),\n        loggedIn = _useState8[0],\n        setLoggedIn = _useState8[1];\n\n  const useStyles = makeStyles(theme => ({\n    container: {\n      alignItems: \"center\",\n      justify: \"center\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    title: {\n      textAlign: \"center\",\n      color: \"#0D5FAD\",\n      fontWeight: 200,\n      fontSize: 80,\n      fontFamily: \"Pacifico\"\n    },\n    quote: {\n      textAlign: \"center\",\n      color: \"#0D5FAD\",\n      fontWeight: 600,\n      fontSize: 25,\n      fontFamily: \"Poiret One\",\n      letterSpacing: \"3px\",\n      marginTop: \"1rem\"\n    },\n    category: {\n      // background: catColors,\n      border: 0,\n      borderRadius: 3,\n      boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\",\n      color: \"white\",\n      pointerEvents: \"none\" // textTransform: \"none\"\n\n    }\n  }));\n  const classes = useStyles();\n\n  const removeTodo = id => {\n    axios.delete(`http://localhost:5000/todo/${userId}/today/${id}`).then(response => response.data).then(() => {\n      window.location.reload();\n    }); // const updatedAll = all.filter(todo => todo.id !== todoId);\n    // setAll(updatedAll);\n  };\n\n  const toggleTodo = id => {\n    const updatedAll = all.map(todo => todo.id === id ? _objectSpread({}, todo, {\n      completed: !todo.completed\n    }) : todo);\n    setAll(updatedAll);\n  };\n\n  const editTodo = (id, value) => {\n    const updatedTodos = all.map(todo => todo.id === id ? _objectSpread({}, todo, {\n      task: value,\n      id: id\n    }) : todo);\n    setAll(updatedTodos);\n    console.log(\"all\", all);\n    const body = {\n      task: value\n    };\n    axios.put(`http://localhost:5000/todo/${userId}/today/${id}`, body).then(response => response.data).then(data => {\n      console.log(data); // window.location.reload();\n    });\n  };\n\n  useEffect(() => {\n    axios.get(`http://localhost:5000/todo/${userId}/today`).then(res => setAll(res.data), res => console.log(\"get res\", res.data));\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(TodoBar, {\n    auth: loggedIn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    container: true,\n    className: classes.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: classes.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Today's tasks\"), React.createElement(Typography, {\n    className: classes.quote,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"Make today so awesome !\")), React.createElement(List, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, all.map((todo, i) => React.createElement(Task, {\n    todos: all,\n    task: todo.task,\n    date: moment(todo.todo_at).locale(\"fr\").format(\"LLL\"),\n    category: todo.categories_id,\n    removeTodo: () => removeTodo(todo.id),\n    toggleTodo: toggleTodo,\n    editTodo: editTodo,\n    id: todo.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 10,\n    md: 8,\n    lg: 5,\n    style: {\n      marginTop: \"2rem\",\n      alignContent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }))));\n}\n\nexport default Today;","map":{"version":3,"sources":["/home/wilder/Projects/todo/front/src/screens/Today.js"],"names":["React","useState","useEffect","TodoBar","TodoList","TodoItem","Task","moment","fr","Link","Button","Grid","Checkbox","ListItemText","List","Box","makeStyles","Typography","axios","Today","all","setAll","task","setTask","localStorage","getItem","userId","setUserId","loggedIn","setLoggedIn","useStyles","theme","container","alignItems","justify","display","flexDirection","title","textAlign","color","fontWeight","fontSize","fontFamily","quote","letterSpacing","marginTop","category","border","borderRadius","boxShadow","pointerEvents","classes","removeTodo","id","delete","then","response","data","window","location","reload","toggleTodo","updatedAll","map","todo","completed","editTodo","value","updatedTodos","console","log","body","put","get","res","i","todo_at","locale","format","categories_id","alignContent"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport TodoBar from \"../components/common/TodoBar\";\nimport TodoList from \"../components/TodoList\";\nimport TodoItem from \"../components/TodoItem\";\nimport Task from \"../components/Task\";\nimport moment from \"moment\";\nimport fr from \"moment/locale/fr\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Button,\n  Grid,\n  Checkbox,\n  ListItemText,\n  List,\n  Box,\n  makeStyles,\n  Typography\n} from \"@material-ui/core/\";\nimport axios from \"axios\";\n\nfunction Today() {\n  const [all, setAll] = useState([]);\n  const [task, setTask] = useState(\"tesssst\");\n  const [userId, setUserId] = useState(localStorage.getItem(\"id\"));\n  const [loggedIn, setLoggedIn] = useState(localStorage.getItem(\"token\"));\n\n  const useStyles = makeStyles(theme => ({\n    container: {\n      alignItems: \"center\",\n      justify: \"center\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    title: {\n      textAlign: \"center\",\n      color: \"#0D5FAD\",\n      fontWeight: 200,\n      fontSize: 80,\n      fontFamily: \"Pacifico\"\n    },\n    quote: {\n      textAlign: \"center\",\n      color: \"#0D5FAD\",\n      fontWeight: 600,\n      fontSize: 25,\n      fontFamily: \"Poiret One\",\n      letterSpacing: \"3px\",\n      marginTop: \"1rem\"\n    },\n    category: {\n      // background: catColors,\n      border: 0,\n      borderRadius: 3,\n      boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\",\n      color: \"white\",\n      pointerEvents: \"none\"\n      // textTransform: \"none\"\n    }\n  }));\n\n  const classes = useStyles();\n\n  const removeTodo = id => {\n    axios\n      .delete(`http://localhost:5000/todo/${userId}/today/${id}`)\n      .then(response => response.data)\n      .then(() => {\n        window.location.reload();\n      });\n    // const updatedAll = all.filter(todo => todo.id !== todoId);\n    // setAll(updatedAll);\n  };\n\n  const toggleTodo = id => {\n    const updatedAll = all.map(todo =>\n      todo.id === id ? { ...todo, completed: !todo.completed } : todo\n    );\n    setAll(updatedAll);\n  };\n\n  const editTodo = (id, value) => {\n    const updatedTodos = all.map(todo =>\n      todo.id === id\n        ? {\n            ...todo,\n            task: value,\n            id: id\n          }\n        : todo\n    );\n    setAll(updatedTodos);\n    console.log(\"all\", all);\n    const body = { task: value };\n    axios\n      .put(`http://localhost:5000/todo/${userId}/today/${id}`, body)\n      .then(response => response.data)\n      .then(data => {\n        console.log(data);\n        // window.location.reload();\n      });\n  };\n\n  useEffect(() => {\n    axios.get(`http://localhost:5000/todo/${userId}/today`).then(\n      res => setAll(res.data),\n      res => console.log(\"get res\", res.data)\n    );\n  }, []);\n\n  return (\n    <div>\n      <TodoBar auth={loggedIn} />\n      <Grid container className={classes.container}>\n        <Typography className={classes.title}>Today's tasks</Typography>\n        <Typography className={classes.quote}>\n          Make today so awesome !\n        </Typography>\n      </Grid>\n      <List>\n        <div>\n          {all.map((todo, i) => (\n            <Task\n              todos={all}\n              task={todo.task}\n              date={moment(todo.todo_at)\n                .locale(\"fr\")\n                .format(\"LLL\")}\n              category={todo.categories_id}\n              removeTodo={() => removeTodo(todo.id)}\n              toggleTodo={toggleTodo}\n              editTodo={editTodo}\n              id={todo.id}\n            />\n          ))}\n\n          <Grid\n            item\n            xs={10}\n            md={8}\n            lg={5}\n            style={{ marginTop: \"2rem\", alignContent: \"center\" }}\n          ></Grid>\n        </div>\n      </List>\n    </div>\n  );\n}\n\nexport default Today;\n"]},"metadata":{},"sourceType":"module"}